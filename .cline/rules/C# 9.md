# C# Coding Rules - C# 9

## Top-Level Statements
- Utilize top-level statements for simple applications to improve readability and minimize boilerplate.
- Implement detailed `Main` methods and class structures for complex applications.

## Records
- Use records for creating immutable data models.
- Favor positional records for succinctness and pattern matching scenarios.
- Use with-expressions to generate modified copies of record instances.

## Init-Only Setters
- Replace `set` with `init` for properties that should only be set during object construction.
- Integrate `init` with records for clear, immutable data handling.

## Pattern Matching Enhancements
- Apply `is` pattern matching to eliminate redundant type checks and casts.
- Utilize logical patterns (`and`, `or`, `not`) for more expressive conditions.
- Employ relational patterns to streamline comparison logic.

## Target-Typed `new` Expressions
- Deploy target-typed `new` expressions to reduce redundancy in object initialization where the type is inferred from context.

## Covariant Returns
- Opt to override methods with covariant return types to return more specific types, enhancing flexibility.

## Static Anonymous Functions
- Choose static anonymous functions to prevent unintentional closures over containing scope variables.

## Fit and Finish Features
- Use `with` expressions for creating derived objects with minor modifications.
- Utilize native int types (`nint`, `nuint`) for platform interop scenarios.
- Exploit `typeof` with generics via `Type` parameter inference for more concise code.

## Performance Considerations
- Leverage value-based `Equality` for records to boost performance in collections.
- Ensure static local or anonymous functions avoid capturing unnecessary state for optimal performance.

## IDE and Code Readability
- Enable `#nullable` to incorporate null-reference checks and enhance code reliability.
- Consistently use code formatting tools to maintain a readable and uniform code style.

## Project Structure and Modern Practices
- Structure code using the latest C# project formats, employing directory-based projects for better organization.
- Keep project dependencies up to date to benefit from enhancements and security updates in the evolving C# ecosystem.

Adhering to these guidelines will ensure modern, efficient, and industry-standard C# 9 codebases. Continually review and update these rules as the language and best practices evolve.